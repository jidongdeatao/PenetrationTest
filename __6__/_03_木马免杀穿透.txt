对于木马的免杀和上线，这里只举几个简单的例子，大家可以根据自己的实际环境来进行操作。

1、传统的免杀无外乎加花混淆加壳，这种的难度大，并且随时被k,这里介绍一种可能大家也都用烂的方法，考虑到很多人可能还没用过，就逼逼两句。

杀毒软件除了杀特征还要检查文件的签名，这个时候加载各种正常的签名，如支付宝的签名，a3,安博士的签名，基本上杀毒软件就哑巴了，
所以各种撸站侠在平时撸站的过程中注意积累，有牛逼的签名记得下载回来。

2、杀毒软件也会累，小文件随意检查，大家为隐蔽性往往会把木马的体积做的很小，殊不知，这样反倒是弄巧成拙，大、大、大、大、大、大，对，做大，
木马的服务端一定要做的足够大，你问我多大？300兆往上的做，不开玩笑，用空字节填充，能做多大做多大。

关于上线，大家为了木马上线也是绞尽脑汁，各种方法，各种尝试，这里说几点以前用过的方式，有些现在还有效，有些可能已经失效，只做个人精液总结，勿喷。

1、通过邮箱上线和控制，这一点最早是darkmoon使用的方式，服务端通过公共邮件服务器上线，接受指令进行操作，同时传回执行结果。

2、通过使用im通讯协议进行上线，如早期的msnbot，通过msn服务器上线控制，你永远不知道对方的控制端在哪里，后面出现的qqbot也是同样的原理，xmpp协议，
voip协议上线等

3、通过https上线，这一点在cobalt strike的beacon里面有充分的体现。

4、通过p2p协议，这样一方面可以实现木马的内网穿透和防火墙穿透，另外可以随时找到可以上线的机器作为控制端，不过目前很多工具都封锁了p2p，
这种上线方式已经不再适用。

5，通过sshagent方式上线，针对特定的环境，给木马服务端加上sshagent功能，可以实现防火墙穿透上线。
